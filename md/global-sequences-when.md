  [BDR 2.1.0 Documentation](README.md)                                                                                                                            
  [Prev](global-sequences-purpose.md "Purpose of global sequences")   [Up](global-sequences.md)    Chapter 10. Global Sequences    [Next](global-sequence-usage.md "Using global sequences")  


# 10.2. When to use global sequences

Using global sequences allows you to avoid the problems with insert
conflicts. If you define a `PRIMARY KEY` or `UNIQUE`
column with a `DEFAULT bdr.bdr_snowflake_id_nextval(...)`
expression, it is not possible for any node to ever get the same value
as any other node. When BDR synchronizes inserts between the nodes, they
can never conflict.

There is no need to use a distributed sequence if:

-   You are ensuring global uniqueness using another method such as:

    -   Local sequences with an offset and increment;

    -   UUIDs;

    -   An externally co-ordinated natural key

-   You are using the data in a `TEMPORARY` or
    `UNLOGGED` table, as these are never visible outside the
    current node.

Global sequences are not suitable for applications that require an
`INCREMENT` other than 1. See [Global Sequence
Limitations](global-sequence-limitations.md).

Global sequence values are only loosely time-ordered. It is normal for
one node to be able to generate a value lower than an earlier value
generated by another node. This will only happen if the two nodes
generated IDs within the same millisecond, so in practice it\'s not a
big concern. It does mean that applications that require generated IDs
to strictly increase with time will not work well with global
sequences - however, such applications will also have problems with all
other approaches to generating keys in distributed systems (see [Section
10.7](global-sequences-alternatives.md)). Strictly apps that need
exact sequence ordering are also buggy even when run on a standalone
PostgreSQL install, since there is no guarantee that transactions commit
in the same order they called nextval, so \"newer\" IDs may become
visible before older ones.

Applications that directly call `nextval`, like many ORMs,
will require changes to work with BDR 2.0 global sequences.



  ------------------------------------------------------ -------------------------------------------- ---------------------------------------------------
  [Prev](global-sequences-purpose.md)        [Home](README.md)         [Next](global-sequence-usage.md)  
  Purpose of global sequences                             [Up](global-sequences.md)                               Using global sequences
  ------------------------------------------------------ -------------------------------------------- ---------------------------------------------------
