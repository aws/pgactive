<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>DDL Replication</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto: bdr-list@2ndquadrant.com"><LINK
REL="HOME"
TITLE="BDR 2.0.6 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="BDR administration manual"
HREF="manual.html"><LINK
REL="PREVIOUS"
TITLE="PostgreSQL statistics views"
HREF="monitoring-postgres-stats.html"><LINK
REL="NEXT"
TITLE="Executing DDL on BDR systems"
HREF="ddl-replication-advice.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="website-docs.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2023-04-11T13:16:52"></HEAD
><BODY
CLASS="CHAPTER"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>BDR 2.0.6 Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="PostgreSQL statistics views"
HREF="monitoring-postgres-stats.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="manual.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="Executing DDL on BDR systems"
HREF="ddl-replication-advice.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="DDL-REPLICATION"
></A
>Chapter 8. DDL Replication</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>8.1. <A
HREF="ddl-replication-advice.html"
>Executing DDL on BDR systems</A
></DT
><DD
><DL
><DT
>8.1.1. <A
HREF="ddl-replication-advice.html#DDL-REPLICATION-LOCKING"
>The DDL lock</A
></DT
><DT
>8.1.2. <A
HREF="ddl-replication-advice.html#DDL-REPLICATION-SAFETY"
>Minimising the impact of DDL</A
></DT
></DL
></DD
><DT
>8.2. <A
HREF="ddl-replication-statements.html"
>Statement specific DDL replication concerns</A
></DT
><DD
><DL
><DT
>8.2.1. <A
HREF="ddl-replication-statements.html#AEN1494"
>Statements with weaker DDL locking</A
></DT
><DT
>8.2.2. <A
HREF="ddl-replication-statements.html#AEN1524"
>Not replicated DDL statements</A
></DT
><DT
>8.2.3. <A
HREF="ddl-replication-statements.html#DDL-REPLICATION-PROHIBITED-COMMANDS"
>Prohibited DDL statements</A
></DT
><DT
>8.2.4. <A
HREF="ddl-replication-statements.html#DDL-REPLICATION-RESTRICTED-COMMANDS"
>DDL statements with restrictions</A
></DT
><DT
>8.2.5. <A
HREF="ddl-replication-statements.html#DDL-REPLICATION-HOW"
>How to work around restricted DDL</A
></DT
></DL
></DD
></DL
></DIV
><P
>  <SPAN
CLASS="PRODUCTNAME"
>BDR</SPAN
> supports replicating changes to a database's schemas to other
  connected nodes. That makes it easier to make certain DDL changes
  without worrying about having to manually distribute the DDL change
  to all nodes and ensure they're consistent.
 </P
><P
>  There is not currently an option to turn off DDL replication and
  apply DDL manually instead.
 </P
><P
>  Before doing DDL on <SPAN
CLASS="PRODUCTNAME"
>BDR</SPAN
>, read <A
HREF="ddl-replication-advice.html"
>Section 8.1</A
>
  and <A
HREF="ddl-replication-statements.html"
>Statement specific DDL replication concerns</A
>.
 </P
><P
>  <SPAN
CLASS="PRODUCTNAME"
>BDR</SPAN
> is significantly different to standalone PostgreSQL when it
  comes to DDL and schema changes, and treating it as the same is a fast path
  to replication problems.
 </P
><DIV
CLASS="IMPORTANT"
><BLOCKQUOTE
CLASS="IMPORTANT"
><P
><B
>Important: </B
>   While DDL is in progress on any node in the system, statements that perform
   writes (<TT
CLASS="LITERAL"
>INSERT</TT
>, <TT
CLASS="LITERAL"
>UPDATE</TT
>
   <TT
CLASS="LITERAL"
>DELETE</TT
>, any DDL, etc) on that node or any other node will
   <TT
CLASS="LITERAL"
>ERROR</TT
> even if the writes have nothing to do with the
   objects currently being modified by the DDL in progress.
  </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="monitoring-postgres-stats.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="ddl-replication-advice.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PostgreSQL statistics views</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="manual.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Executing DDL on BDR systems</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>